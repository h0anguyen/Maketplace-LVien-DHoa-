extends ../layout

block content
  .page-wrapper
    include ../partials/header
    .container-fluid
    .row
      nav.col-md-3.col-lg-2.d-md-block.sidebarr.collapse.mt-3
        .position-sticky
          ul.nav.flex-column
            li.nav-item
              a.nav-link(href='/vendor' )
                i.fas.fa-box.me-2
                |                                 Sản phẩm
            li.nav-item
              a.nav-link(href='/vendororder' )
                i.fas.fa-shopping-cart.me-2
                |                                Đơn hàng
            li.nav-item
              a.nav-link(href='' )
                i.fas.fa-percentage.me-2
                |                                 Kênh marketing
      main.col-md-9.ms-sm-auto.col-lg-10.px-md-4
        .d-md-none
          button.btn.btn-primary.mb-3(type='button' data-bs-toggle='collapse' data-bs-target='.sidebarr' aria-expanded='false' aria-controls='sidebarr')
            i.fas.fa-bars
            |  Menu
        #v-pills-tabContent.tab-content.border.rounded.p-4.mt-3
          #product-manager.tab-pane.fade.show.active.text-center(role='')
            h2.mb-4.pb-2.border-bottom Sản phẩm cửa hàng
            .d-flex.justify-content-between.align-items-center.mb-3
              a.btn.btn-primary(href='/vendorproduct/new')
                i.fas.fa-plus.me-2
                | Thêm sản phẩm mới
              .input-group.w-50
                input.form-control(type='text' placeholder='Tìm kiếm sản phẩm...')
                button.btn.btn-outline-secondary(type='button')
                  i.fas.fa-search
            .table-responsive
              table.table.table-striped.table-hover.border.table-bordered
                - if(products)
                  thead.table-primary
                    tr.text-center
                      th(colspan="2")
                        | Sản phẩm
                      th
                        | Danh mục
                      th
                        | Giá
                      th
                        | Lượt xem
                      th
                        | Đã bán
                      th
                        | Tồn kho
                      th 
                        | 
                  tbody
                    each product in products
                      tr.text-center
                        td.row 
                          .col-12.viewproductvendor
                            img(src=`data:image/png;base64,${product.mainImage.toString('base64')}`, alt=`${product.productName}`)
                        td= product.productName
                        td= product.categories.categoryName
                        td= product.price
                          |.000đ
                        td= product.view
                        td= product.sold
                        td= product.inventory
                        td
                          form(action=`/vendorproduct/${product.id}/edit`, method="get") 
                            button(type="submit").btn.btn-info.btn-sm
                              i.fas.fa-edit.me-1
                              | Sửa
                          form(action=`/vendorproduct/${product.id}?_method=DELETE`, method="post") 
                            button(type="submit").btn.btn-danger.btn-sm
                              i.fas.fa-trash.me-1
                              | Xóa
                - else
                  .text-center Chưa có sản phẩm nào 
    include ../partials/footer